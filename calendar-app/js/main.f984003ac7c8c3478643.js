(()=>{var e={497:()=>{"use strict";function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,s=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw s}}return n}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var o,s=[10,11,12,13,14,15,16,17,18],l=s.map((function(e){return{value:e,label:"".concat(e,":00")}})),i=localStorage.calendarData?JSON.parse(localStorage.calendarData):(o={},s.forEach((function(e){o[e]={Monday:{},Tuesday:{},Wednesday:{},Thursday:{},Friday:{}}})),o),c=document.querySelector(".js-popup"),r=document.querySelector(".js-popup_error"),p=document.querySelector(".js-popup__btn"),u=document.querySelector(".js-open-popup"),d=document.querySelectorAll(".js-close-popup"),_=document.querySelector(".js-popup_confirmation"),m=document.querySelector(".js-overlay"),v=document.querySelector(".js-calendar"),y=document.querySelector(".js-members"),f=document.forms[0],b=function(e){var t=document.createDocumentFragment();v.innerHTML="",Object.values(i).forEach((function(n){Object.values(n).forEach((function(n){var a=function(e,t){var n=e.color,a=e.title,o=e.participants,s=e.reserved,l=e.id,i=document.createElement("div");return o&&o.includes(t)||"0"===t&&s?(i.className="calendar__item reserved ".concat(n),i.dataset.id=l,i.innerHTML='<p class="calendar__item-text">'.concat(a,"</p>")):i.className="calendar__item",i}(n,e);t.appendChild(a)}))})),v.appendChild(t)},h=function(e){e.classList.add("popup_active"),m.classList.add("overlay_active")},S=function(e){e.classList.remove("popup_active"),m.classList.remove("overlay_active")},k=function(e){return["radio"].includes(e)},j=function(e){var t=e.times,n=e.days,a=e.title,o=e.colors,s=e.participants;i[t][n]={id:"".concat(t,"-").concat(n),participants:s,title:a,color:o,reserved:!0},localStorage.calendarData=JSON.stringify(i),y.options[0].selected=!0,b("0")},g=function(){return r.classList.remove("popup_active")},w=function(e){var t,n=e.times,a=e.days,o=e.title,s=e.participants;t=a,!i[n][t].reserved&&function(e){return e.length>=3}(o)&&function(e){return e.length}(s)?(j(e),S(c),g(),b("0"),f.reset()):r.classList.add("popup_active")},T=function(e){e.preventDefault();var a,o={},s=function(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=n(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var o=0,s=function(){};return{s,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,l=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw l}}}}(f);try{for(s.s();!(a=s.n()).done;){var l=a.value,i=l.name;if(i){var c=l.type,r=l.value;"participants"===i?o.participants=t(l.options).filter((function(e){return e.selected})).map((function(e){return e.value})):k(c)?l.checked&&(o[i]=r):o[i]=r}}}catch(e){s.e(e)}finally{s.f()}w(o)};document.addEventListener("DOMContentLoaded",(function(){d.forEach((function(e){e.addEventListener("click",(function(){var t=e.closest(".popup");g(),S(t)}))})),m.addEventListener("click",(function(){document.querySelectorAll(".popup_active").forEach((function(e){S(e)}))})),f.addEventListener("submit",T),u.addEventListener("click",(function(){return h(c)})),v.addEventListener("click",(function(t){return function(t){if(t.classList.contains("reserved")){var n=e(t.dataset.id.split("-"),2),a=n[0],o=n[1],s=i[a][o];_.querySelector("p").innerText='Are you sure you want to delete "'.concat(s.title,'" event?'),p.dataset.id=t.dataset.id,h(_)}}(t.target)})),y.addEventListener("click",(function(e){var t=e.target;return b(t.value)})),p.addEventListener("click",(function(t){var n,a,o,s,l=t.target;return n=l.dataset.id,a=e(n.split("-"),2),o=a[0],s=a[1],i[o][s]={},localStorage.calendarData=JSON.stringify(i),b(y.value),void S(_)})),l[0].selected=!0,b("0")}))},353:e=>{e.exports='<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"> <title>Calendar app</title> </head> <body> <div class="wrapper"> <main class="app"> <div class="app__header"> <h1 class="app__header-title">Calendar</h1> <div class="app__header-buttons"> <label> <div class="select app__header-select"> <select class="select__inner js-members"> <option value="0" selected="selected">All members</option> <option value="1">John</option> <option value="2">Sam</option> <option value="3">Ann</option> <option value="4">Tommy</option> <option value="5">Hanna</option> <option value="6">Kenny</option> </select> <span class="focus"></span> </div> </label> <button class="app__header-button js-open-popup" type="button">New event</button> </div> </div> <div class="app__body"> <ol class="app__times times"> <li class="times__item">N<span class="times__title">ame</span></li> <li class="times__item">10<span class="times__minute">:00</span></li> <li class="times__item">11<span class="times__minute">:00</span></li> <li class="times__item">12<span class="times__minute">:00</span></li> <li class="times__item">13<span class="times__minute">:00</span></li> <li class="times__item">14<span class="times__minute">:00</span></li> <li class="times__item">15<span class="times__minute">:00</span></li> <li class="times__item">16<span class="times__minute">:00</span></li> <li class="times__item">17<span class="times__minute">:00</span></li> <li class="times__item">18<span class="times__minute">:00</span></li> </ol> <div class="app__content"> <ol class="app__days days"> <li class="days__item">Mon</li> <li class="days__item">Tue</li> <li class="days__item">Wed</li> <li class="days__item">Thu</li> <li class="days__item">Fri</li> </ol> <div class="calendar js-calendar"></div> </div> </div> </main> </div> <div class="popup popup_error js-popup_error"> <p>The selected time is already taken or you entered too short a title</p> </div> <form class="popup js-popup"> <button class="popup__close js-close-popup" type="button"></button> <label class="popup__label"> <input class="popup__field" name="title" type="text" placeholder="Name of the event"> </label> <label class="popup__label"> <div class="select select--multiple custom-select-wrapper-form"> <select class="select__inner select-multiple" name="participants" size="3" multiple="multiple"> <option class="select__inner-option" value="1">John</option> <option class="select__inner-option" value="2">Sam</option> <option class="select__inner-option" value="3">Ann</option> <option class="select__inner-option" value="4">Tommy</option> <option class="select__inner-option" value="5">Hanna</option> <option class="select__inner-option" value="6">Kenny</option> </select> <span class="focus"></span> </div> </label> <label class="popup__label"> <div class="select custom-select-wrapper-form"> <select class="select__inner" name="times"> <option value="10" selected="selected">10:00</option> <option value="11">11:00</option> <option value="12">12:00</option> <option value="13">13:00</option> <option value="14">14:00</option> <option value="15">15:00</option> <option value="16">16:00</option> <option value="17">17:00</option> <option value="18">18:00</option> </select> <span class="focus"></span> </div> </label> <label class="popup__label"> <div class="select custom-select-wrapper-form"> <select class="select__inner" name="days"> <option value="Monday" selected="selected">Monday</option> <option value="Tuesday">Tuesday</option> <option value="Wednesday">Wednesday</option> <option value="Thursday">Thursday</option> <option value="Friday">Friday</option> </select> <span class="focus"></span> </div> </label> <ul class="popup__colors"> <li class="popup__colors-item"> <label class="check option"> <input class="check__input visually-hidden" value="yellow" type="radio" name="colors" checked="checked"> <span class="check__box yellow"></span> </label> </li> <li class="popup__colors-item"> <label class="check option"> <input class="check__input visually-hidden" value="green" type="radio" name="colors"> <span class="check__box green"></span> </label> </li> <li class="popup__colors-item"> <label class="check option"> <input class="check__input visually-hidden" value="red" type="radio" name="colors"> <span class="check__box red"></span> </label> </li> <li class="popup__colors-item"> <label class="check option"> <input class="check__input visually-hidden" value="khaki" type="radio" name="colors"> <span class="check__box khaki"></span> </label> </li> <li class="popup__colors-item"> <label class="check option"> <input class="check__input visually-hidden" value="violet" type="radio" name="colors"> <span class="check__box violet"></span> </label> </li> <li class="popup__colors-item"> <label class="check option"> <input class="check__input visually-hidden" value="blue" type="radio" name="colors"> <span class="check__box blue"></span> </label> </li> </ul> <button class="popup__btn">Create</button> </form> <div class="popup popup_confirmation js-popup_confirmation"> <button class="popup__close js-close-popup" type="button"></button> <p class="popup__text"></p> <button class="popup__btn js-popup__btn">Yes</button> </div> <div class="overlay js-overlay"></div> </body> </html> '},3:(e,t,n)=>{"use strict";n.r(t)}},t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";n(3),n(353),n(497)})()})();